<app-search ></app-search>
<section class="inputs">
  <form [formGroup]="movieForm" (ngSubmit)="addBook()" class="add-Movie-Form">
    <mat-form-field>
      <mat-label>Title Name</mat-label>
      <input matInput formControlName="title" />

      <mat-error *ngIf="title?.touched && title?.hasError('required')">
        Please fill this field
      </mat-error>
      <!-- <mat-error *ngIf="title?.touched && title?.hasError('minlength')">
        Please provide full title name üòÅ
      </mat-error> -->
    </mat-form-field>

    <mat-form-field>
      <mat-label>Author Name</mat-label>
      <input matInput formControlName="author" placeholder="" />

      <mat-error *ngIf="author?.touched && author?.hasError('required')">
        Please fill this field
      </mat-error>
      <!-- <mat-error *ngIf="author?.touched && author?.hasError('minlength')">
        Please provide full name 
      </mat-error> -->
    </mat-form-field>
    <mat-form-field>
      <mat-label>Enter the published year </mat-label>
      <input matInput formControlName="publishedYear" />
      <mat-hint>YYYY</mat-hint>
      <mat-error
        *ngIf="publishedYear?.touched && publishedYear?.hasError('required')"
      >
        Please fill this field
      </mat-error>
      <mat-error
        *ngIf="publishedYear?.touched && publishedYear?.hasError('minlength')"
      >
        Please provide full year
      </mat-error>
      <mat-error
        *ngIf="publishedYear?.touched && publishedYear?.hasError('maxlength')"
      >
        Please provide a valid year
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Genres</mat-label>
      <mat-select formControlName="genres" color="primary" multiple>
        <mat-option *ngFor="let genre of genres" [value]="genre.value">{{
          genre.label
        }}</mat-option>
      </mat-select>
    </mat-form-field>

    <h3>Languages</h3>

    <mat-selection-list formControlName="languages" color="accent">
      <mat-list-option
        *ngFor="let language of languages"
        [value]="language.value"
      >
        {{ language.label }}
      </mat-list-option>
    </mat-selection-list>
    <mat-form-field>
      <mat-label>Rating</mat-label>
      <input matInput formControlName="rating" placeholder="Ex. 3" />

      <mat-error *ngIf="rating?.touched && rating?.hasError('required')">
        Please fill this field
      </mat-error>

      <mat-error
        *ngIf="
          rating?.touched &&
          (rating?.hasError('min') || rating?.hasError('max'))
        "
      >
        Rating must be 0 to 5
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Poster</mat-label>
      <input
        matInput
        formControlName="coverImageUrl"
        placeholder="Ex. http://img.com"
      />
      <mat-error
        *ngIf="coverImageUrl?.touched && coverImageUrl?.hasError('required')"
      >
        Please fill this field
      </mat-error>
      <!-- <mat-error
        *ngIf="coverImageUrl?.touched && coverImageUrl?.hasError('minlength')"
      >
        Please provide longer Image URL üòÅ
      </mat-error> -->

      <mat-error
        *ngIf="coverImageUrl?.touched && coverImageUrl?.hasError('pattern')"
      >
        Please provide valid URL
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Description</mat-label>
      <input
        matInput
        formControlName="description"
        placeholder="Ex. Cool movie"
      />

      <mat-error
        *ngIf="description?.touched && description?.hasError('required')"
      >
        Please fill this field
      </mat-error>
      <mat-error
        *ngIf="description?.touched && description?.hasError('minlength')"
      >
        Please provide longer summary
      </mat-error>
    </mat-form-field>
    <button type="submit" mat-raised-button color="primary">
      <mat-icon
        aria-hidden="false"
        aria-label="Example home icon"
        fontIcon="add"
      ></mat-icon>
      {{ "Add Movie" | uppercase }}
    </button>
  </form>
</section>
